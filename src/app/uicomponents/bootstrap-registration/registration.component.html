<div class="container h-100">
  <div class="text-center mt-5">
    <span class="title">{{'REGISTRATION' | translate}}</span>
  </div>
  <div class="row mt-5 h-100 justify-content-center align-items-center">
    <form id="registrationForm" class="col-xl-6 col-lg-9 col-md-12 col-sm-12">
      <div class="form-group row col-sm-12">
        <div class="col-sm-12 input-group-lg">
          <label for="userName">{{'USER_NAME' | translate}}</label>
          <input id="userName" class="form-control" placeholder="{{'user.placeholder.name' | translate}}"
                 [(ngModel)]="person.username"
                 [formControl]="formValidation.userName"
                 [ngClass]="getValidityClass('userName')" >
          <div class="invalid-feedback">{{getErrorMessage('userName', {patternType: 'username'})}}</div>
        </div>
      </div>
      <div class="form-group row col-sm-12">
        <div class="col-sm-6 input-group-lg">
          <label for="firstName">{{'user.label.first.name' | translate}}</label>
          <input id="firstName" class="form-control" placeholder="{{'user.placeholder.first.name' | translate}}"
                 [(ngModel)]="person.firstName"
                 [formControl]="formValidation.firstName"
                 [ngClass]="getValidityClass('firstName')">
          <div class="invalid-feedback">{{getErrorMessage('firstName')}}</div>
        </div>
        <div class="col-sm-6 input-group-lg">
          <label for="lastName">{{'user.label.last.name' | translate}}</label>
          <input id="lastName" class="form-control" placeholder="{{'user.placeholder.last.name' | translate}}"
                 [(ngModel)]="person.lastName"
                 [formControl]="formValidation.lastName"
                 [ngClass]="getValidityClass('lastName')">
          <div class="invalid-feedback">{{getErrorMessage('lastName')}}</div>
        </div>
      </div>
      <div class="form-group row col-sm-12">
        <div class="col-sm-12 input-group-lg">
          <label for="email">{{'user.label.email' | translate}}</label>
          <input id="email" class="form-control" placeholder="name@example.com"
                 [(ngModel)]="person.email"
                 [formControl]="formValidation.email"
                 [ngClass]="getValidityClass('email')">
          <div class="invalid-feedback">{{getErrorMessage('email')}}</div>
        </div>
      </div>
      <div class="form-group row col-sm-12">
        <div class="col-sm-12 input-group-lg">
          <label for="pass">{{'PASSWORD' | translate}}</label>
          <input type="password" id="pass" class="form-control" placeholder="{{'user.placeholder.password' | translate}}"
                 [(ngModel)]="person.password"
                 [formControl]="formValidation.password"
                 [ngClass]="getValidityClass('password')">
          <div class="invalid-feedback">{{getErrorMessage('password', {patternType: 'pass'})}}</div>
        </div>
      </div>
      <div class="form-group row col-sm-12">
        <div class="col-sm-12 input-group-lg">
          <label for="passwordRecap">{{'PASSWORD_REPEAT' | translate}}</label>
          <input type="password" name="passwordRecap" id="passwordRecap" class="form-control" placeholder="{{'user.placeholder.password.recap' | translate}}"
                 [formControl]="formValidation.passwordRecap"
                 [ngClass]="getValidityClass('passwordRecap')">
          <div class="invalid-feedback">{{getErrorMessage('passwordRecap')}}</div>
        </div>
      </div>
      <div class="row float-right pr-5">
        <a href="/login" class="btn btn-link btn-lg active" role="button" aria-pressed="true">{{'LOGIN_PAGE' | translate}}</a>
      </div>

      <div class="form-group row col-sm-12 pt-2">
        <button type="submit" [disabled]="!isFormValid()" (click)="doRegistrationForPerson()" class="btn btn-success btn-lg col-sm-12">
          <div *ngIf="registrationInProgress" class="spinner-border float-left" role="status">
            <span class="sr-only">Loading...</span>
          </div>
          {{'DO_REGISTRATION' | translate}}
        </button>
      </div>
    </form>

  </div>
</div>
